title: 030 PUT games/53eb250be057e24aeb984b7c/join
given:
  - time: 2014-08-13T10:57:24.081+02:00
  - collection: games
    data: |
        { "_id" : { "$oid" : "53eb250be057e24aeb984b7c"} , "teamA" : { "teammateRefs" : [ "53eb2494e057e24aeb984b7b"] , "score" : 0 , "scorersRefs" : [ ]} , "teamB" : { "teammateRefs" : [ ] , "score" : 0 , "scorersRefs" : [ ]} , "finished" : false}
  - collection: players
    data: |
        { "_id" : { "$oid" : "53eb2494e057e24aeb984b7b"} , "firstName" : "Alexis" , "lastName" : "Morelle" , "goals" : 0 , "wins" : 0 , "losses" : 0 , "draws" : 0 , "subscription" : true , "certificate" : true}
        { "_id" : { "$oid" : "53eb2549e057e24aeb984b7d"} , "firstName" : "Pierre" , "lastName" : "Le Baccon" , "goals" : 0 , "wins" : 0 , "losses" : 0 , "draws" : 0 , "subscription" : true , "certificate" : true}
        { "_id" : { "$oid" : "53eb258ce057e24aeb984b7e"} , "firstName" : "Joffrey" , "lastName" : "Tourret" , "goals" : 0 , "wins" : 0 , "losses" : 0 , "draws" : 0 , "subscription" : true , "certificate" : true}
        { "_id" : { "$oid" : "53eb259fe057e24aeb984b7f"} , "firstName" : "Michael" , "lastName" : "Madegard" , "goals" : 0 , "wins" : 0 , "losses" : 0 , "draws" : 0 , "subscription" : true , "certificate" : true}
        { "_id" : { "$oid" : "53eb25b4e057e24aeb984b80"} , "firstName" : "Hugo" , "lastName" : "Guerineau" , "goals" : 0 , "wins" : 0 , "losses" : 0 , "draws" : 0 , "subscription" : true , "certificate" : true}
        { "_id" : { "$oid" : "53eb25d1e057e24aeb984b81"} , "firstName" : "Rodolphe" , "lastName" : "Lefievre" , "goals" : 0 , "wins" : 0 , "losses" : 0 , "draws" : 0 , "subscription" : true , "certificate" : true}
        { "_id" : { "$oid" : "53eb25dfe057e24aeb984b82"} , "firstName" : "Guillaume" , "lastName" : "Le Grand" , "goals" : 0 , "wins" : 0 , "losses" : 0 , "draws" : 0 , "subscription" : true , "certificate" : true}
        { "_id" : { "$oid" : "53eb2606e057e24aeb984b83"} , "firstName" : "Pierre-Antoine" , "lastName" : "Vandenberghe" , "goals" : 0 , "wins" : 0 , "losses" : 0 , "draws" : 0 , "subscription" : true , "certificate" : true}
wts:
  - when: |
       PUT games/53eb250be057e24aeb984b7c/join?keyPlayer=53eb258ce057e24aeb984b7e&keyTeam=B

        {}
    then: |
        {
          "teamA" : {
            "teammateRefs" : [ "53eb2494e057e24aeb984b7b" ],
            "score" : 0,
            "scorersRefs" : [ ]
          },
          "teamB" : {
            "teammateRefs" : [ "53eb258ce057e24aeb984b7e" ],
            "score" : 0,
            "scorersRefs" : [ ]
          },
          "finished" : false,
          "_id" : "53eb250be057e24aeb984b7c"
        }
